[nebula]
name = "Idiomatic Go"
description = "Align Quasar codebase with idiomatic Go patterns, testability, and clean architecture"

[defaults]
type = "task"
priority = 2
labels = ["quasar", "go-bp"]

[execution]
max_workers = 1
max_review_cycles = 5
max_budget_usd = 15.0

[context]
repo = "github.com/papapumpkin/quasar"
working_dir = "."
goals = [
    "Make the codebase idiomatic Go",
    "Improve testability through interface-driven design",
    "Use table-driven tests with t.Run and t.Parallel",
    "Keep functions short and focused (~20 lines max)",
    "Ensure all exported symbols have GoDoc comments",
    "Handle all errors explicitly — no silent discards",
    "Use stdlib patterns (strings.Contains, not custom helpers)",
]
constraints = [
    "Do not change any externally visible behavior",
    "All new code must have tests",
    "Maintain backward compatibility of public interfaces",
    "Use only stdlib testing — no external test frameworks",
    "All UI output goes to stderr (stdout reserved for structured data)",
    "github is papapumpkin, not aaronsalm",
]
