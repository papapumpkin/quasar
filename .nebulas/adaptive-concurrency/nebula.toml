[nebula]
name = "adaptive-concurrency"
description = "Feedback controller that reads runtime metrics and dynamically adjusts worker concurrency between waves — Layer 3 of the relativity coordination model"

[defaults]
type = "feature"
priority = 3
labels = ["quasar", "nebula", "relativity"]

[execution]
max_workers = 1
max_review_cycles = 5
max_budget_usd = 50.0
gate = "watch"

[context]
repo = "github.com/papapumpkin/quasar"
working_dir = "."
goals = [
    "Define configurable optimization strategies (speed, cost, quality, balanced)",
    "Implement an AIMD-style feedback controller that adjusts concurrency between waves",
    "Integrate the controller into WorkerGroup's dispatch loop",
    "Use historical metrics to warm-start the controller on repeated runs",
    "Respect Layer 1 effective parallelism as an absolute ceiling",
]
constraints = [
    "Follow existing Go conventions from CLAUDE.md",
    "No external dependencies — stdlib only",
    "Layer 1 ceiling (effective parallelism) is never exceeded",
    "Controller is optional — nil means static parallelism (Layer 1 behavior)",
    "Must not regress existing test suite",
    "All UI output goes to stderr via ui.Printer",
]

[dependencies]
requires_nebulae = ["local-parallelism", "metrics-collection"]
